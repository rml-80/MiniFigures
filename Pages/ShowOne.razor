@using MiniFigures.Data
@using MiniFigures.Models

@inject IMiniFigureService MiniFigureService
@inject ISeriesService SeriesService
@inject NavigationManager NavigationManager

@if (Serie == null)
{
    <Loading />
}
else
{
    <div class="cardBig" style="border-color:@Serie.SeriesColor">
        <div class="txtLeft" style="color:@Serie.SeriesColor">@Serie.DisplayName</div>

        @*TODO: IF Image dosen't exist *@
        <div><img class="imgBig" src="/images/Series/@Serie.Name/@OneMiniFigure.Image" alt="Picture of @OneMiniFigure.Name" /></div>
        <p>@OneMiniFigure.Name</p>
        <table class="cardTabel">
            <tr class="TableOne">
                <td class="label">Number:</td>
                <td>@OneMiniFigure.Number</td>
            </tr>
            <tr class="TableOne">
                <td class="label">In display:</td>
                <td>
                    @if (!OneMiniFigure.Displayed)
                    {
                        <i class="fas fa-times fa-2x" style="color:red" />
                    }
                    else
                    {
                        <i class="fas fa-check fa-2x" style="color:green" />
                    }
                </td>
            </tr>
            <tr class="TableOne">
                <td class="label">Ownd openend:</td>
                <td>@OneMiniFigure.CountOpened</td>
            </tr>
            <tr class="TableOne">
                <td class="label">Ownd sealed:</td>
                <td>@OneMiniFigure.CountSealed</td>
            </tr>
            <tr class="TableOne">
                <td class="label">Image:</td>
                <td>@OneMiniFigure.Image</td>
            </tr>
        </table>
    </div>
}
@code {
    [Parameter] public Series Serie { get; set; }
    [Parameter] public MiniFigure OneMiniFigure { get; set; }

    protected override void OnAfterRender(bool firstRender)
    {
        StateHasChanged();
    }
}
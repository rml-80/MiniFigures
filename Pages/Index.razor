@page "/"

@using MiniFigures.Models
@using MiniFigures.Data
@inject ISeriesService SeriesService
@inject NavigationManager NavigationManager

<link rel="stylesheet" href="css/Index.css" />

<div class="row" style="border-radius:15px; margin-left:auto; margin-right:auto ">
    <div style="text-align:center;margin-left:auto; margin-right:auto">
        <h5>There is ___ Series to Collect | You have ___ complete series</h5>
        <h5>With a total of ___ figures | You have ___ figures </h5>
    </div>
</div>

<div class="card-deck">
    @foreach (var item in ListOfSeries)
    {
        <div class="figCard" style="border-color: @item.SeriesColor; background-color:@item.SeriesColor">
            <img src="images/@item.Name/@item.SeriePicture" @onclick="() => goTo(item.Name)" alt="@item.Name" />
        </div>
    }
</div>
@code {
    List<Series> ListOfSeries = new List<Series>();
    protected override async Task OnInitializedAsync()
    {
        ListOfSeries = await SeriesService.GetSeries();
    }
    private void goTo(string serie)
    {
        NavigationManager.NavigateTo($"/{serie}");
    }
}